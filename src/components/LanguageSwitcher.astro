---
import { getLangFromUrl, defaultLocale } from '@/i18n';

const lang = getLangFromUrl(Astro.url);
const targetLang = lang === 'es' ? 'en' : 'es';
const targetPath = targetLang === defaultLocale ? '/' : `/${targetLang}/`;
const flag = lang === 'es' ? 'ðŸ‡ºðŸ‡¸' : 'ðŸ‡¨ðŸ‡´';
const label = lang === 'es' ? 'En' : 'Es';
---

<a
  href={targetPath}
  class="flex items-center gap-1 md:gap-1.5 px-1.5 md:px-2 py-1.5 md:py-2 transition hover:text-accent font-semibold text-inherit"
  aria-label={`Switch to ${targetLang === 'es' ? 'EspaÃ±ol' : 'English'}`}
>
  <span>{flag}</span>
  <span>{label}</span>
</a>
